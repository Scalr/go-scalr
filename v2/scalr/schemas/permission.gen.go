// Code generated by scalr-gen. DO NOT EDIT.

package schemas

import (
	"encoding/json"

	"github.com/scalr/go-scalr/v2/scalr/value"
)

// Response version - used when unmarshalling from API responses
// The ability to perform an action on an object, enabling the corresponding functionality in the UI and API. e.g. `workspaces:create`, `vcs-providers:read`. The ID of a permission consist of two parts separated with `:` (colon): * Resource type in a plural form. * Action name. Generally the actions are CRUD, but some objects have specific actions, such as `runs:cancel`. If an `*` (asterisk) is used instead of the action name in the permission it means the permission allows all actions for the specified resource type. For example `workspaces:*` allows all actions with workspaces. An asterisk can be also used instead of the resource type. For example permission `*:read` gives read access to all resources. `*:*` - gives access to everything. Use [List Permissions](permissions.html#list-permissions) to obtain all possible permissions.
type Permission struct {
	ID         string               `json:"id"`
	Type       string               `json:"type"`
	Attributes PermissionAttributes `json:"attributes"`
}

// GetID returns the resource ID (implements client.ResourceLike)
func (r Permission) GetID() string {
	return r.ID
}

// GetResourceType returns the JSON:API resource type (implements client.ResourceLike)
func (r Permission) GetResourceType() string {
	if r.Type != "" {
		return r.Type
	}
	return "permissions"
}

// PermissionAttributes holds the attributes for Permission (response)
type PermissionAttributes struct {
	// Scope identities, this permission could be applied to in an [access policy](access-policies.html).
	ApplicableScopes []string `json:"applicable-scopes"`
	// Permission description.
	Description *string `json:"description"`
}

// Request version - used when marshalling for API requests
// The ability to perform an action on an object, enabling the corresponding functionality in the UI and API. e.g. `workspaces:create`, `vcs-providers:read`. The ID of a permission consist of two parts separated with `:` (colon): * Resource type in a plural form. * Action name. Generally the actions are CRUD, but some objects have specific actions, such as `runs:cancel`. If an `*` (asterisk) is used instead of the action name in the permission it means the permission allows all actions for the specified resource type. For example `workspaces:*` allows all actions with workspaces. An asterisk can be also used instead of the resource type. For example permission `*:read` gives read access to all resources. `*:*` - gives access to everything. Use [List Permissions](permissions.html#list-permissions) to obtain all possible permissions. (for requests)
type PermissionRequest struct {
	ID         string                      `json:"id,omitempty"`
	Type       string                      `json:"type,omitempty"`
	Attributes PermissionAttributesRequest `json:"attributes,omitempty"`
}

// MarshalJSON automatically sets the Type field during marshalling
func (r PermissionRequest) MarshalJSON() ([]byte, error) {
	type Alias PermissionRequest
	if r.Type == "" {
		r.Type = "permissions"
	}
	return json.Marshal((Alias)(r))
}

// GetID returns the resource ID (implements client.ResourceLike)
func (r PermissionRequest) GetID() string {
	return r.ID
}

// GetResourceType returns the JSON:API resource type (implements client.ResourceLike)
func (r PermissionRequest) GetResourceType() string {
	return "permissions"
}

// PermissionAttributesRequest holds the attributes for Permission (request)
type PermissionAttributesRequest struct {
	// Scope identities, this permission could be applied to in an [access policy](access-policies.html).
	ApplicableScopes *value.Value[[]string] `json:"applicable-scopes,omitempty"`
	// Permission description.
	Description *value.Value[string] `json:"description,omitempty"`
}
