// Code generated by scalr-gen. DO NOT EDIT.

package schemas

import (
	"encoding/json"

	"github.com/scalr/go-scalr/v2/scalr/value"
)

// Response version - used when unmarshalling from API responses
// Provides details of a Terraform plan operation.
type Plan struct {
	ID         string         `json:"id"`
	Type       string         `json:"type"`
	Attributes PlanAttributes `json:"attributes"`
}

// GetID returns the resource ID (implements client.ResourceLike)
func (r Plan) GetID() string {
	return r.ID
}

// GetResourceType returns the JSON:API resource type (implements client.ResourceLike)
func (r Plan) GetResourceType() string {
	if r.Type != "" {
		return r.Type
	}
	return "plans"
}

// PlanAttributes holds the attributes for Plan (response)
type PlanAttributes struct {
	// Plan execution details.
	ExecutionDetails map[string]interface{} `json:"execution-details"`
	// Indicates if plan has proposed resource changes.
	HasChanges bool `json:"has-changes"`
	// The number of new resources that will be added.
	ResourceAdditions int `json:"resource-additions"`
	// The number of resources that will be updated in place.
	ResourceChanges int `json:"resource-changes"`
	// The number of resources that will be destroyed.
	ResourceDestructions int `json:"resource-destructions"`
	// The Plan's current status. Transient states: * `pending` - Plan has been created but not yet queued. * `queued` - Queued and waiting for capacity/and or quota to be available. * `running` - Running. Final states: * `canceled` - Plan canceled in some way. * `errored` - An error occurred during the plan. See `output` for details. * `finished` - Plan completed successfully. * `unreachable` - Plan will not be run.
	Status string `json:"status"`
	// Date/Time of transition to each status that has occurred.
	StatusTimestamps map[string]interface{} `json:"status-timestamps"`
}

// Request version - used when marshalling for API requests
// Provides details of a Terraform plan operation. (for requests)
type PlanRequest struct {
	ID         string                `json:"id,omitempty"`
	Type       string                `json:"type,omitempty"`
	Attributes PlanAttributesRequest `json:"attributes,omitempty"`
}

// MarshalJSON automatically sets the Type field during marshalling
func (r PlanRequest) MarshalJSON() ([]byte, error) {
	type Alias PlanRequest
	if r.Type == "" {
		r.Type = "plans"
	}
	return json.Marshal((Alias)(r))
}

// GetID returns the resource ID (implements client.ResourceLike)
func (r PlanRequest) GetID() string {
	return r.ID
}

// GetResourceType returns the JSON:API resource type (implements client.ResourceLike)
func (r PlanRequest) GetResourceType() string {
	return "plans"
}

// PlanAttributesRequest holds the attributes for Plan (request)
type PlanAttributesRequest struct {
	// Plan execution details.
	ExecutionDetails *value.Value[map[string]interface{}] `json:"execution-details,omitempty"`
	// Indicates if plan has proposed resource changes.
	HasChanges *value.Value[bool] `json:"has-changes,omitempty"`
	// The number of new resources that will be added.
	ResourceAdditions *value.Value[int] `json:"resource-additions,omitempty"`
	// The number of resources that will be updated in place.
	ResourceChanges *value.Value[int] `json:"resource-changes,omitempty"`
	// The number of resources that will be destroyed.
	ResourceDestructions *value.Value[int] `json:"resource-destructions,omitempty"`
	// The Plan's current status. Transient states: * `pending` - Plan has been created but not yet queued. * `queued` - Queued and waiting for capacity/and or quota to be available. * `running` - Running. Final states: * `canceled` - Plan canceled in some way. * `errored` - An error occurred during the plan. See `output` for details. * `finished` - Plan completed successfully. * `unreachable` - Plan will not be run.
	Status *value.Value[string] `json:"status,omitempty"`
	// Date/Time of transition to each status that has occurred.
	StatusTimestamps *value.Value[map[string]interface{}] `json:"status-timestamps,omitempty"`
}
