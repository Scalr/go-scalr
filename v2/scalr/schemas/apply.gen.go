// Code generated by scalr-gen. DO NOT EDIT.

package schemas

import (
	"encoding/json"

	"github.com/scalr/go-scalr/v2/scalr/value"
)

// Response version - used when unmarshalling from API responses
// Applies are the details of a request to apply a Terraform plan. An apply may or may not be successful as indicated by the `status` attribute.
type Apply struct {
	ID         string          `json:"id"`
	Type       string          `json:"type"`
	Attributes ApplyAttributes `json:"attributes"`
}

// GetID returns the resource ID (implements client.ResourceLike)
func (r Apply) GetID() string {
	return r.ID
}

// GetResourceType returns the JSON:API resource type (implements client.ResourceLike)
func (r Apply) GetResourceType() string {
	if r.Type != "" {
		return r.Type
	}
	return "applies"
}

// ApplyAttributes holds the attributes for Apply (response)
type ApplyAttributes struct {
	// Apply execution details.
	ExecutionDetails map[string]interface{} `json:"execution-details"`
	// The number of resources added.
	ResourceAdditions int `json:"resource-additions"`
	// The number of resources updated.
	ResourceChanges int `json:"resource-changes"`
	// The number of resources destroyed.
	ResourceDestructions int `json:"resource-destructions"`
	// The Apply's current status. Transient states: * `pending` - Apply has been created but not yet `queued`. * `queued` - Queued and waiting for capacity/and or quota to be available. * `running` - Running. Final states: * `canceled` - Apply canceled in some way. * `errored` - An error occurred during the apply. See `output` for details. * `finished` - Apply completed successfully. * `unreachable` - Apply will not be run.
	Status string `json:"status"`
	// Date/Time of transition to each status that has occurred.
	StatusTimestamps map[string]interface{} `json:"status-timestamps"`
}

// Request version - used when marshalling for API requests
// Applies are the details of a request to apply a Terraform plan. An apply may or may not be successful as indicated by the `status` attribute. (for requests)
type ApplyRequest struct {
	ID         string                 `json:"id,omitempty"`
	Type       string                 `json:"type,omitempty"`
	Attributes ApplyAttributesRequest `json:"attributes,omitempty"`
}

// MarshalJSON automatically sets the Type field during marshalling
func (r ApplyRequest) MarshalJSON() ([]byte, error) {
	type Alias ApplyRequest
	if r.Type == "" {
		r.Type = "applies"
	}
	return json.Marshal((Alias)(r))
}

// GetID returns the resource ID (implements client.ResourceLike)
func (r ApplyRequest) GetID() string {
	return r.ID
}

// GetResourceType returns the JSON:API resource type (implements client.ResourceLike)
func (r ApplyRequest) GetResourceType() string {
	return "applies"
}

// ApplyAttributesRequest holds the attributes for Apply (request)
type ApplyAttributesRequest struct {
	// Apply execution details.
	ExecutionDetails *value.Value[map[string]interface{}] `json:"execution-details,omitempty"`
	// The number of resources added.
	ResourceAdditions *value.Value[int] `json:"resource-additions,omitempty"`
	// The number of resources updated.
	ResourceChanges *value.Value[int] `json:"resource-changes,omitempty"`
	// The number of resources destroyed.
	ResourceDestructions *value.Value[int] `json:"resource-destructions,omitempty"`
	// The Apply's current status. Transient states: * `pending` - Apply has been created but not yet `queued`. * `queued` - Queued and waiting for capacity/and or quota to be available. * `running` - Running. Final states: * `canceled` - Apply canceled in some way. * `errored` - An error occurred during the apply. See `output` for details. * `finished` - Apply completed successfully. * `unreachable` - Apply will not be run.
	Status *value.Value[string] `json:"status,omitempty"`
	// Date/Time of transition to each status that has occurred.
	StatusTimestamps *value.Value[map[string]interface{}] `json:"status-timestamps,omitempty"`
}
